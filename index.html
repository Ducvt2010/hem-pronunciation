<table border="1" style="border-collapse:collapse;width:80%;margin:auto;text-align:center;font-size:20px;">
<tr style="background-color:#b0e57c;">
  <th>TÃªn nguyÃªn tá»‘</th><th>KHHH</th><th>PhiÃªn Ã¢m</th><th>Nghe máº«u</th><th>Äá»c láº¡i</th><th>Äiá»ƒm</th>
</tr>
<tr>
  <td>Sodium</td><td>Na</td><td>/ËˆsÉ™ÊŠ.di.É™m/</td>
  <td><button onclick="speak('Sodium')">ğŸ”Š</button></td>
  <td><button onclick="check('Sodium',0)">ğŸ™ï¸</button></td>
  <td id="score0">-</td>
</tr>
<tr>
  <td>Calcium</td><td>Ca</td><td>/ËˆkÃ¦l.si.É™m/</td>
  <td><button onclick="speak('Calcium')">ğŸ”Š</button></td>
  <td><button onclick="check('Calcium',1)">ğŸ™ï¸</button></td>
  <td id="score1">-</td>
</tr>
</table>

<script>
function speak(text){
  const utter = new SpeechSynthesisUtterance(text);
  utter.lang = "en-US";
  speechSynthesis.speak(utter);
}

function check(expected, id){
  const rec = new webkitSpeechRecognition();
  rec.lang = "en-US";
  rec.onresult = (e)=>{
    const said = e.results[0][0].transcript.toLowerCase();
    let score = 0;
    if (said === expected.toLowerCase()) score = 100;
    else if (said.includes(expected.toLowerCase()) || expected.toLowerCase().includes(said)) score = 80;
    else score = 50;
    document.getElementById("score"+id).innerText = score + "%";
  };
  rec.start();
}
</script>
